(this["webpackJsonpmaskes-ui-typescript"]=this["webpackJsonpmaskes-ui-typescript"]||[]).push([[0],{163:function(e,t,a){e.exports=a(277)},168:function(e,t,a){},169:function(e,t,a){},175:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},184:function(e,t){},186:function(e,t){},196:function(e,t){},198:function(e,t){},225:function(e,t){},226:function(e,t){},231:function(e,t){},233:function(e,t){},257:function(e,t){},277:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),o=a(25),i=a.n(o),c=(a(168),a(169),a(170),a(8)),s=a(20),u=a(34),m=a(47),d=a(50),h=a(48),E=(a(175),a(31)),p=a(27),g=a(54),f=a(64),v=a(30),b=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.hasLogin,a=e.openLoginModal;return l.a.createElement(f.a,{bg:"light",expand:"lg"},l.a.createElement(f.a.Brand,{as:v.b,to:"/"},"COVID-19 Mutual Aid"),l.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(g.a,{className:"mr-auto"},!t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a.Link,{as:v.b,to:"/"},"Home"),l.a.createElement(g.a.Link,{as:v.b,to:"/get-help"},"Get help"),l.a.createElement(g.a.Link,{as:v.b,to:"/volunteer"},"Get involved")),t&&l.a.createElement(g.a.Link,{as:v.b,to:"/my-requests"},"Manage requests"))),l.a.createElement(p.a,{inline:!0},!t&&l.a.createElement(E.a,{className:"LoginButton",onClick:a,variant:"outline-secondary"},"Login"),t&&l.a.createElement("div",{className:"LoginButton"},"Welcome back!"),l.a.createElement(E.a,{variant:"info"},"Donate")))}}]),a}(r.Component),L=Object(s.b)((function(e,t){return{hasLogin:e.auth.hasLogin||!1}}),{openLoginModal:function(){return{type:"OPEN_LOGIN_MODAL"}}})(b),y=a(16),O=a.n(y),w=(a(178),a(103)),j=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.goTo,a=e.showBreadcrumbs,n=e.params;return a&&l.a.createElement(w.a,{className:"my-breadcrumb"},O.a.map(n,(function(e,a){var r=a===n.length-1;return l.a.createElement(w.a.Item,{active:r,onClick:function(){r||t("/"+e)},key:e},e)})))}}]),a}(r.Component),k=Object(c.e)(Object(s.b)((function(e,t){var a=O.a.omitBy(t.match.params,O.a.isUndefined);return{showBreadcrumbs:O.a.size(a)>1,params:O.a.values(a),goTo:t.history.push}}))(j)),C=(a(179),a(53)),I=a(159),M=a(158),N=(a(102),[]),S=!1;function T(e){return new Promise((function(t){return setTimeout(t,e)}))}var B=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({hasError:!1,isLoading:!1})}},{key:"handleUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"login",value:function(){var e=this;this.setState({hasError:!1,isLoading:!0}),function(e){var t=e.username,a=e.password;return console.log("Requesting to login",t,a),S?Promise.resolve(n):T(2e3).then((function(){return Math.random()>.8?Promise.reject({errorMessage:"Fails to log in"}):(S=!0,n=O.a.find(N,{username:t}),console.log("Successfully loggin in"),n)}))}({password:this.state.password,username:this.state.username}).then(function(){this.props.hideLoginModal(),this.props.onLogin(),this.props.goTo("/my-requests")}.bind(this)).catch((function(t){e.setState({hasError:!0,isLoading:!1})})).finally((function(){e.setState({isLoading:!1})}))}},{key:"render",value:function(){if(this.props.show){var e=this.props,t=e.show,a=e.hideLoginModal;return l.a.createElement(C.a,{show:t,onHide:a,dialogClassName:"modal-50w",animation:!1,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(C.a.Header,{closeButton:!0},l.a.createElement(C.a.Title,{id:"contained-modal-title-vcenter"},"Log in with your Username")),l.a.createElement(C.a.Body,null,this.state.hasError&&l.a.createElement(M.a,{variant:"danger"},"Failed to login. Please retry!"),l.a.createElement(p.a,null,l.a.createElement(p.a.Group,{controlId:"formBasicEmail"},l.a.createElement(p.a.Label,null,"Username"),l.a.createElement(p.a.Control,{disabled:this.state.isLoading,type:"email",placeholder:"Enter username",onChange:this.handleUsernameChange.bind(this)})),l.a.createElement(p.a.Group,{controlId:"formBasicPassword"},l.a.createElement(p.a.Label,null,"Password"),l.a.createElement(p.a.Control,{disabled:this.state.isLoading,type:"password",placeholder:"Password",onChange:this.handlePasswordChange.bind(this)})))),l.a.createElement(C.a.Footer,null,!this.state.isLoading&&l.a.createElement("div",null,l.a.createElement(E.a,{variant:"outline-secondary",onClick:a},"Cancel"),l.a.createElement(E.a,{variant:"primary",onClick:this.login.bind(this)},"Login")),this.state.isLoading&&l.a.createElement(E.a,{variant:"primary",disabled:!0},l.a.createElement(I.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Loading...")))}return null}}]),a}(r.Component),_=Object(c.e)(Object(s.b)((function(e,t){return{show:e.globalModals.show,goTo:t.history.push}}),{hideLoginModal:function(){return{type:"HIDE_LOGIN_MODAL"}},onLogin:function(){return{type:"SUCCESSFULLY_LOG_IN"}}})(B)),q=function(){return l.a.createElement("div",null,l.a.createElement(_,null))},G=function(){return l.a.createElement("div",null,"This is home")},P=function(){return l.a.createElement("div",null,"This is GetHelp")},U=function(){return l.a.createElement("div",null,"This is volunteer")},D=a(160),F=Object(c.e)(Object(s.b)((function(e,t){return{goTo:t.history.push}}))((function(e){var t=e.goTo;return l.a.createElement(D.a,null,l.a.createElement("h1",null,"Hello!"),l.a.createElement("p",null,"We are here to support you!"),l.a.createElement("p",null,l.a.createElement(E.a,{onClick:function(){return t("/my-requests/create-request")},variant:"primary"},"Submit a request")))}))),H=a(161),A=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Requests"),l.a.createElement(H.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"First Name"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Username"))),l.a.createElement("tbody",null,l.a.createElement("tr",{onClick:function(){return console.log("click on the request")}},l.a.createElement("td",null,"1"),l.a.createElement("td",null,"Mark"),l.a.createElement("td",null,"Otto"),l.a.createElement("td",null,"@mdo")),l.a.createElement("tr",null,l.a.createElement("td",null,"2"),l.a.createElement("td",null,"Jacob"),l.a.createElement("td",null,"Thornton"),l.a.createElement("td",null,"@fat")),l.a.createElement("tr",null,l.a.createElement("td",null,"3"),l.a.createElement("td",null,"Larry the Bird"),l.a.createElement("td",null,"Larry the Bird 2"),l.a.createElement("td",null,"@twitter")))))},W=function(){return l.a.createElement("div",null,l.a.createElement(F,null),l.a.createElement(A,null))},z={"get-help":P,home:G,volunteer:U},J={"create-request":function(){return l.a.createElement("div",null,"This is the create request page")}};function x(e,t){var a=t.navId,n=t.subNavId,r=O.a.defaultTo(n,a);return e.auth.hasLogin?J[r]||W:z[r]||G}var R=Object(c.e)(Object(s.b)((function(e,t){return{component:x(e,t.match.params)}}))((function(e){var t=e.component;return l.a.createElement("div",null,l.a.createElement(q,null),l.a.createElement(L,null),l.a.createElement(k,null),l.a.createElement(c.a,{path:"/:navId?/:subNavId?",component:t}))}))),Y=a(51),V=a(162),$=a.n(V),K=a(77),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object(K.a)({},e);switch(t.type){case"OPEN_LOGIN_MODAL":return a.show=!0,a;case"HIDE_LOGIN_MODAL":return a.show=!1,a;default:return e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hasLogin:!1},t=arguments.length>1?arguments[1]:void 0,a=Object(K.a)({},e);switch(t.type){case"SUCCESSFULLY_LOG_IN":return a.hasLogin=!0,a;default:return e}},Z=Object(Y.c)({auth:X,globalModals:Q}),ee=Object(Y.d)(Z,Object(Y.a)($.a));var te=function(){return l.a.createElement(s.a,{store:ee},l.a.createElement(v.a,null,l.a.createElement(c.a,{path:"/:navId?/:subNavId?",component:R})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[163,1,2]]]);
//# sourceMappingURL=main.5de1979e.chunk.js.map